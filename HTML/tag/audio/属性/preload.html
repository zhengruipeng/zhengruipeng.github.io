<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>

    </style>
</head>
<body>
<audio src="../../../../resources/01.%20星の海の記憶.mp3" controls id="audio" preload="auto"></audio>
<script type="module">
    import {JSONParser} from "../../../../packages/JSONParser.js";

    document.addEventListener("DOMContentLoaded", function () {
        const jsonParser = new JSONParser({
            preload: ["auto", "none", "metadata"],
        });
        jsonParser.defaultInit();
        jsonParser.onjsonchange = function (){
            const audio = document.getElementById("audio");
            audio.parentElement.removeChild(audio);

            let {preload} = this.toJSON();

            document.body.insertAdjacentHTML("afterbegin",
                `<audio src="../../../../resources/01.%20星の海の記憶.mp3" controls id="audio" preload="${preload}"></audio>`
            );
        };
    });
</script>
</body>
</html>