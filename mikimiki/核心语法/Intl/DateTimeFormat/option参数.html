<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
<!--    <link href="../table-default-style.css" rel="stylesheet" type="text/css"/>-->
    <style>
        pre {
            font-size: 1.4em;
        }
    </style>
</head>
<body>
<pre id="output">

</pre>
<script type="module">
    import {JSONParser} from "../JSONParser.js";

    document.addEventListener("DOMContentLoaded", function () {
        const output = this.getElementById("output");

        const date = new Date(Date.UTC(2023, 0, 30, 12, 4, 5, 738));
        console.log(new Intl.DateTimeFormat('zh-CN-u-ca-buddhist', {
            dateStyle: "full",       //"full","long","medium","short"

        }).format(date));

        let option = {
            // dateStyle: ["full","long","medium","short"],       //"full","long","medium","short"
            // timeStyle:["full","long","medium","short"],       //"full","long","medium","short"
            calendar: ["buddhist", "chinese", "coptic", "dangi", "ethioaa", "ethiopic", "gregory", "hebrew", "indian", "islamic", "islamic-umalqura", "islamic-tbla", "islamic-civil", "islamic-rgsa", "iso8601", "japanese", "persian", "roc", "islamicc"],     //"buddhist", "chinese", "coptic", "dangi", "ethioaa", "ethiopic", "gregory", "hebrew", "indian", "islamic", "islamic-umalqura", "islamic-tbla", "islamic-civil", "islamic-rgsa", "iso8601", "japanese", "persian", "roc", "islamicc"
            // dayPeriod:["narrow", "short", "long"],        //"narrow", "short", "long"
            numberingSystem: ["latn", "arab", "arabext", "bali", "beng", "deva", "fullwide", " gujr", "guru", "hanidec", "khmr", " knda", "laoo", "limb", "mlym", "mong", "mymr", "orya", "tamldec", "telu", "thai", "tibt"],     //"arab", "arabext", "bali", "beng", "deva", "fullwide", " gujr", "guru", "hanidec", "khmr", " knda", "laoo", "latn", "limb", "mlym", "mong", "mymr", "orya", "tamldec", "telu", "thai", "tibt"
            localeMatcher: ["lookup", "best fit"],       //"lookup" and "best fit";
            timeZone: "Asia/Shanghai",        //参考https://www.iana.org/time-zones
            hour12: false,
            hourCycle: ["h11", "h12", "h23", "h24"],        //"h11", "h12", "h23", or "h24"
            formatMatcher: ["basic", "best fit"],    //"basic" and "best fit"
            weekday: ["long", "short", "narrow"],
            era: ["long", "short", "narrow"],
            year: ["numeric", "2-digit"],
            month: ["numeric", "2-digit", "long", "short", "narrow"],
            day: ["numeric", "2-digit"],
            hour: ["numeric", "2-digit"],
            minute: ["numeric", "2-digit"],
            second: ["numeric", "2-digit"],
            fractionalSecondDigits: 3,
            timeZoneName: ["long", "short", "shortOffset", "longOffset", "shortGeneric", "longGeneric"]
        };

        let jsonParser = new JSONParser(option);
        jsonParser.import("../table-default-style.css")
        jsonParser.initTable();

        jsonParser.onJsonChange = function (ev) {
            output.innerHTML = new Intl.DateTimeFormat('zh-CN-u-ca-buddhist', jsonParser.toJSON()).format(date)
        };
    });
</script>
</body>
</html>